(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2222],{2590:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return l(4814)}])},2609:function(e,s,l){"use strict";var a=l(5893);l(7294);var t=l(5301),r=l.n(t);let n=()=>(0,a.jsx)(r(),{color:"white",smooth:!0,className:"topbutton"});s.Z=n},4814:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return A}});var a=l(5893),t=l(7294),r=l(2609);l(5675);var n=l(682),c=l(4051),d=l(1555),o=l(3561),i=l(1649),m=l(9492),h=l(3516),u=l(2920),x=l(4674),p=l(2085);let j=async()=>{try{return await p.Z.get("/ecom/payment-methods")}catch(e){(0,h.B)(u.Am,"error",e)}};var f=l(7087),N=l(1163),b=l(1664),y=l.n(b),v=l(2709),Z=l(9008),g=l.n(Z),_=l(2921);let w=()=>{var e,s,l,p,b,Z;let _=(0,N.useRouter)(),w=(0,i.I0)(),A=(0,i.v9)(e=>e.cart),[C,k]=(0,t.useState)(!1),[I,L]=(0,t.useState)(!1),[G,O]=(0,t.useState)([]),[T,B]=(0,t.useState)({}),[D,P]=(0,t.useState)({}),[S,z]=(0,t.useState)([]),{totalShippingCharge:E,totalWeight:R}=(0,v.j)(null);(0,t.useEffect)(()=>{j().then(e=>{(null==e?void 0:e.data)&&z(e.data)})},[]);let M=()=>{(0,m.cl)().then(e=>{(null==e?void 0:e.data)&&O(e.data)})};(0,t.useEffect)(()=>{M()},[]),(0,t.useEffect)(()=>{G.length>0&&G.map(e=>{e.is_default_billing&&(B(e),w((0,f.wF)(e))),e.is_default_shipping&&(P(e),w((0,f._k)(e)))})},[G]);let F=(e,s)=>{e.preventDefault(),s&&(0,m.YH)(s).then(e=>{e.status&&((0,h.B)(u.Am,"success",e),M())})},U=(e,s)=>{e.preventDefault(),s&&(0,m.pV)(s).then(e=>{e.status&&((0,h.B)(u.Am,"success",e),M())})},H=e=>{if(e.preventDefault(),A.items&&A.items.length<1){alert("The cart shouldn't be empty!");return}if(!I){alert("Please accept the terms & conditions, refund policy & privacy policy.");return}if(!(null==A?void 0:A.paymentMethodId)){alert("Please choose a payment method!");return}k(!0),"1"===A.paymentMethodId?(0,x.DP)({shipping_address:(0,h.v_)(A.shippingAddress),shipping_address_json:A.shippingAddress,billing_address:(0,h.v_)(A.billingAddress),billing_address_json:A.billingAddress,cart:A.items,sub_total:A.subTotal,discount:A.discount,shipping_charge:E,tax:A.tax,grand_total:A.subTotal+E,payment_method_id:A.paymentMethodId,total_weight:R}).then(e=>{var s,l;(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.GatewayPageURL)&&(w((0,f.xG)()),k(!1),window.location.href=null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.GatewayPageURL)}):(0,x.TR)({shipping_address:(0,h.v_)(A.shippingAddress),shipping_address_json:A.shippingAddress,billing_address:(0,h.v_)(A.billingAddress),billing_address_json:A.billingAddress,cart:A.items,sub_total:A.subTotal,discount:A.discount,shipping_charge:E,tax:A.tax,grand_total:A.subTotal+E,payment_method_id:A.paymentMethodId,total_weight:R}).then(e=>{var s;(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.status)&&((0,h.B)(u.Am,"success",e),w((0,f.xG)()),k(!1),setTimeout(()=>{_.push("/my-account?tab=order")},2500))})},W=e=>{try{w((0,f.sR)(e))}catch(e){(0,h.B)(u.Am,"success",{message:e.message})}};return(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)(g(),{children:(0,a.jsx)("title",{children:(0,h.qJ)("Checkout")})}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"position-relative mn",children:[(0,a.jsx)("img",{src:"/payment.jpg",alt:"",className:"img-fluid payment"}),(0,a.jsx)("h1",{className:"pay-banner-text text-light text-uppercase font-48 fw-bold",children:"payment"})]}),(0,a.jsx)(n.Z,{children:(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.Z,{lg:7,md:12,sm:12,className:" mt-4",children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-8",children:(0,a.jsx)("h1",{className:"text-uppercase font-24 fw-bold mb-3 billing_details",children:"BILLING DETAILS"})}),(0,a.jsx)("div",{className:"col-4 text-end",children:(0,a.jsxs)("div",{className:"text-end",children:[(0,a.jsxs)("select",{className:"form-select rounded-0",value:T.id,onChange:e=>F(e,e.target.value),children:[(0,a.jsx)("option",{value:"",selected:!0,children:"Set Default Billing"}),G&&G.length>0&&G.map((e,s)=>(0,a.jsx)("option",{value:e.id,children:e.title},s))]}),(0,a.jsx)(y(),{href:"/my-account?tab=address",className:"btn btn-link m-0 p-0",children:"Add New"})]})})]}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(d.Z,{lg:12,md:12,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Full Name"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:T.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:6,md:6,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Address Line 1"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:T.address_line_1,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:6,md:6,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Address Line 2"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:T.address_line_2,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Division"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:null==T?void 0:null===(e=T.division)||void 0===e?void 0:e.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"District"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:null==T?void 0:null===(s=T.district)||void 0===s?void 0:s.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Upozila"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:null==T?void 0:null===(l=T.upazila)||void 0===l?void 0:l.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Postcode"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:T.postcode,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Phone"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:T.phone,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{className:"font-lato",children:"Email Address"}),(0,a.jsx)(o.Z.Control,{type:"email",placeholder:"",className:"rounded-0 form-deco",value:T.email,readOnly:!0})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-8",children:(0,a.jsx)("h1",{className:"text-uppercase font-24 fw-bold mb-3",children:"SHIPPING DETAILS"})}),(0,a.jsxs)("div",{className:"col-4 text-end",children:[(0,a.jsxs)("select",{className:"form-select rounded-0",value:D.id,onChange:e=>U(e,e.target.value),children:[(0,a.jsx)("option",{value:"",selected:!0,children:"Set Default Shipping"}),G&&G.length>0&&G.map((e,s)=>(0,a.jsx)("option",{value:e.id,children:e.title},s))]}),(0,a.jsx)(y(),{href:"/my-account?tab=address",className:"btn btn-link m-0 p-0",children:"Add New"})]})]}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(d.Z,{lg:12,md:12,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Full Name"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:D.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:6,md:6,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Address Line 1"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:D.address_line_1,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:6,md:6,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Address Line 2"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:D.address_line_2,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Division"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:null==D?void 0:null===(p=D.division)||void 0===p?void 0:p.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"District"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:null==D?void 0:null===(b=D.district)||void 0===b?void 0:b.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Upozila"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:null==D?void 0:null===(Z=D.upazila)||void 0===Z?void 0:Z.name,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Postcode"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:D.postcode,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{children:"Phone"}),(0,a.jsx)(o.Z.Control,{type:"text",placeholder:"",className:"rounded-0 form-deco",value:D.phone,readOnly:!0})]})}),(0,a.jsx)(d.Z,{lg:4,md:4,className:"",children:(0,a.jsxs)(o.Z.Group,{className:"mb-3",controlId:"",children:[(0,a.jsx)(o.Z.Label,{className:"font-lato",children:"Email Address"}),(0,a.jsx)(o.Z.Control,{type:"email",placeholder:"",className:"rounded-0 form-deco",value:D.email,readOnly:!0})]})})]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("h1",{className:"text-uppercase font-24 fw-bold mb-3",children:"NOTE"}),(0,a.jsx)("textarea",{className:"form-control",rows:5,placeholder:"Write some note here.."}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]}),(0,a.jsxs)(d.Z,{lg:5,md:12,sm:12,className:" my-4",children:[(0,a.jsxs)("div",{className:"payment-card p-3",children:[(0,a.jsx)("h2",{className:"text-uppercase font-24 fw-bold ps-2",children:"your order"}),(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"Product"}),(0,a.jsx)("th",{scope:"col",className:"text-end",children:"Total"})]})}),(0,a.jsx)("tbody",{children:(null==A?void 0:A.items)&&A.items.length>0&&A.items.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("th",{scope:"row",className:"fw-normal text-wrap lh-base text-capitalize font-16 ",children:["product"===e.type&&(0,a.jsx)("a",{href:"/product/".concat(e.inventory_id),children:e.title}),"combo"===e.type&&(0,a.jsx)("a",{href:"/combo/pack/".concat(e.combo_id),children:e.title})]}),(0,a.jsxs)("td",{className:"text-end",children:[e.quantity,"\xa0x \xa0",e.unit_price,"\xa0= \xa0",e.total," Tk"]})]},s))})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,a.jsxs)("p",{className:"font-lato text-capitalize font-20 pe-2 phone_res fw-semibold",children:["subtotal :"," "]}),(0,a.jsxs)("p",{className:" font-20 phone_res ",children:[A.subTotal," Tk"]})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,a.jsxs)("p",{className:"font-lato fw-semibold text-capitalize font-20 pe-2 phone_res",children:["total :"," "]}),(0,a.jsxs)("p",{className:"font-20 theme-text phone_res fw-bold",children:[A.subTotal+E||0," Tk"]})]})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsxs)("div",{className:"form-check form-check-inline",children:[(0,a.jsx)("input",{className:"form-check-input",type:"radio",id:"inlineRadio1",name:"paymentMethod",value:S.id,onChange:e=>W(e.target.value)}),(0,a.jsx)("label",{className:"form-check-label text-capitalize",htmlFor:"inlineRadio1",children:"COD"})]})}),(0,a.jsx)("p",{className:"mt-3 d-flex flex-column",children:(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Delivery:"})," Inside Dhaka in 24 hours, outside Dhaka in 48 hours"]})}),(0,a.jsx)("div",{className:"mt-3 d-flex",children:(0,a.jsxs)(o.Z.Group,{className:"mb-1 text-secondary d-flex me-2 justify-content-start",controlId:"",children:[(0,a.jsx)(o.Z.Check,{type:"checkbox",label:"",onChange:e=>L(e.target.checked),className:"me-2"}),(0,a.jsx)(y(),{href:"/terms-and-conditions",className:"mr-1",children:"Terms & Conditions,"}),(0,a.jsx)(y(),{href:"/refund-policy",className:"mr-1",children:"Refund policy,"}),(0,a.jsx)(y(),{href:"/privacy-policy",className:"mr-1",children:"Privacy policy"})]})}),(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("button",{type:"button",className:"d-flex align-items-center justify-content-center text-capitalize place_order_border cursor-pointer font-16 w-100 place-order mt-4 font-lato fw-bold",onClick:e=>H(e),disabled:C,children:[C&&(0,a.jsx)("span",{className:"me-2 text-dark",children:(0,a.jsx)(Oval,{height:18,width:18,color:"#fff",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#f38120",strokeWidth:6,strokeWidthSecondary:6})}),"place order"]})})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("p",{className:"text-capitalize py-3 font-16",children:"online payment by SSLCommerz :"}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)(d.Z,{lg:4,md:4,sm:4,className:"mb-3",children:[(0,a.jsx)("p",{className:"text-capitalize text-center pb-2",children:"card"}),(0,a.jsx)("img",{src:"/card.jpg",alt:"card",className:" card-payment rounded-1 shadow"})]}),(0,a.jsxs)(d.Z,{lg:4,md:4,sm:4,className:"mb-3",children:[(0,a.jsx)("p",{className:"text-capitalize text-center pb-2",children:"bank transfer"}),(0,a.jsx)("img",{src:"/bank-transfer.png",alt:"card",className:" transfer-payment rounded-1 shadow"})]}),(0,a.jsxs)(d.Z,{lg:4,md:4,sm:4,className:"mb-3",children:[(0,a.jsx)("p",{className:"text-capitalize text-center pb-2",children:"mobile banking"}),(0,a.jsx)("img",{src:"/mobile.jpeg",alt:"card",className:" card-payment rounded-1 shadow"})]})]})]})]})]})})]}),(0,a.jsx)(r.Z,{})]})};var A=(0,_.Z)(w)},9492:function(e,s,l){"use strict";l.d(s,{Mw:function(){return c},YH:function(){return i},Yb:function(){return d},_N:function(){return o},cl:function(){return n},pV:function(){return m}});var a=l(2085),t=l(3516),r=l(2920);let n=async()=>{try{return await a.Z.get("/ecom/addresses")}catch(e){(0,t.B)(r.Am,"error",e)}},c=async e=>{try{return await a.Z.post("/ecom/addresses",e)}catch(e){(0,t.B)(r.Am,"error",e)}},d=async e=>{try{return await a.Z.put("/ecom/addresses/".concat(e.id),e)}catch(e){(0,t.B)(r.Am,"error",e)}},o=async e=>{try{return await a.Z.delete("/ecom/addresses/".concat(e))}catch(e){(0,t.B)(r.Am,"error",e)}},i=async e=>{try{return await a.Z.put("/ecom/addresses/".concat(e,"/default-billing"))}catch(e){(0,t.B)(r.Am,"error",e)}},m=async e=>{try{return await a.Z.put("/ecom/addresses/".concat(e,"/default-shipping"))}catch(e){(0,t.B)(r.Am,"error",e)}}},4674:function(e,s,l){"use strict";l.d(s,{$A:function(){return i},AU:function(){return n},DP:function(){return o},G7:function(){return c},TR:function(){return d}});var a=l(2085),t=l(3516),r=l(2920);let n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await a.Z.get("/ecom/orders",{params:e})}catch(e){(0,t.B)(r.Am,"error",e)}},c=async e=>{try{return await a.Z.get("/ecom/orders/".concat(e,"/show"))}catch(e){(0,t.B)(r.Am,"error",e)}},d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await a.Z.post("/ecom/orders",e)}catch(e){(0,t.B)(r.Am,"error",e)}},o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await a.Z.post("/ecom/orders/make-payment",e)}catch(e){(0,t.B)(r.Am,"error",e)}},i=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await a.Z.post("/ecom/orders/make-payment/".concat(e),s)}catch(e){(0,t.B)(r.Am,"error",e)}}},2921:function(e,s,l){"use strict";var a=l(5893),t=l(1163),r=l(7294),n=l(9649);let c=e=>s=>{(0,t.useRouter)();let l=(0,n.jl)();return(0,r.useEffect)(()=>{l||(location.href="/auth/login")},[]),l?(0,a.jsx)(e,{...s}):null};s.Z=c}},function(e){e.O(0,[6631,9774,2888,179],function(){return e(e.s=2590)}),_N_E=e.O()}]);