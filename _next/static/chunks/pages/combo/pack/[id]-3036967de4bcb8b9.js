(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9459],{3944:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/combo/pack/[id]",function(){return n(5375)}])},7169:function(e,t,n){"use strict";var l=n(7294);let s=e=>{let{startDate:t,endDate:n,prefix:s=!0}=e,[o,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=new Date(n).getTime(),t=setInterval(function(){let t=new Date().getTime(),n=e-t;if(n<=0){i("");return}let l=Math.floor(n/864e5),o=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4),c=Math.floor(n%6e4/1e3);s?i("Ends In: ".concat(l,"d ").concat(o,"h ").concat(a,"m ").concat(c,"s")):i("".concat(l,"d ").concat(o,"h ").concat(a,"m ").concat(c,"s"))},1e3);return()=>clearInterval(t)},[n]),o};t.Z=s},5375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var l=n(5893),s=n(7294),o=n(1163),i=n(381),a=n.n(i),c=n(3516),r=n(2920),d=n(5005),m=n(8193),u=n(1649),f=n(7087),p=n(3364),h=n(7169),v=n(6843),x=n(2546);n(4950),n(4233);var b=n(2544);let g=e=>{var t,n;let{combo:o}=e,[i,a]=(0,s.useState)(null);return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsxs)(x.tq,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},spaceBetween:10,navigation:!0,thumbs:{swiper:i},modules:[b.Rv,b.W_,b.o3],className:"mySwiper2",children:[(0,l.jsx)(x.o5,{children:(0,l.jsx)("img",{src:(0,c.a$)("combo-image/".concat(null==o?void 0:o.image)),alt:"product-img-two",className:"single-object"})}),null==o?void 0:null===(t=o.combo_images)||void 0===t?void 0:t.map((e,t)=>(0,l.jsx)(x.o5,{children:(0,l.jsx)("img",{src:(0,c.a$)("combo-image/".concat(null==e?void 0:e.image)),alt:"product-img-two",className:"single-object"})},t))]}),(0,l.jsx)(x.tq,{onSwiper:a,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[b.Rv,b.W_,b.o3],className:"mySwiper",children:null==o?void 0:null===(n=o.combo_images)||void 0===n?void 0:n.map((e,t)=>(0,l.jsx)(x.o5,{children:(0,l.jsx)("img",{src:(0,c.a$)("combo-image/".concat(null==e?void 0:e.image)),alt:"product-img-two",className:"single-object"})},t))})]})};var j=n(3192),_=n(5509);let y=e=>{let{combo:t}=e,[n,o]=(0,s.useState)("home");return(null==t?void 0:t.id)&&(0,l.jsx)(s.Fragment,{children:(0,l.jsxs)(_.Z,{id:"controlled",activeKey:n,onSelect:e=>o(e),className:"mb-3 border-0",children:[(0,l.jsx)(j.Z,{eventKey:"home",title:"Description",className:"pb-5 ps-0 border-0 font-lato",children:(0,l.jsx)("p",{className:"font-16 font-lato border-top pt-2 border_top text-justify",children:null==t?void 0:t.product_short_desc})}),(0,l.jsx)(j.Z,{eventKey:"Specification",title:"Specification",className:"pb-5 font-lato font-18 rounded-0",children:(0,l.jsx)("div",{className:"detail-table border-top border_top pt-3",children:null==t?void 0:t.product_long_desc})})]})})};var N=n(9008),w=n.n(N);let k=()=>{var e;let t=(0,u.I0)(),n=(0,o.useRouter)(),{id:i}=n.query;(0,u.v9)(e=>e.cart);let[x,b]=(0,s.useState)({}),[j,_]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[D,S]=(0,s.useState)(1),M=e=>{e.preventDefault(),S(D+1)},Z=e=>{e.preventDefault(),D>1?S(D-1):(alert("Minimum quantity 1"),S(1))};(0,s.useEffect)(()=>{i&&(0,v.yq)(i).then(e=>{if(null==e?void 0:e.data){let t=e.data;b(t);let n=a()().format("YYYY-MM-DD"),l=t.offer_start?a()(t.offer_start).format("YYYY-MM-DD"):null,s=t.offer_end?a()(t.offer_end).format("YYYY-MM-DD"):null;(null==t?void 0:t.offer_price)&&(null!==l&&null!==s?_(l<=n&&s>=n):_(!0))}})},[i]);let Y=function(e,l){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault();try{var o;if(!D)return(0,c.B)(r.Am,"warning",{message:"Quantity shouldn't empty!"}),!1;let e=j?l.offer_price:l.sale_price;t((0,f.il)({id:(0,p.Iy)(11111111,999999999),combo_id:l.id,quantity:D,unit_price:e,total:D*e,type:"combo",sku:l.sku,title:l.title,category_name:null==l?void 0:null===(o=l.combo_category)||void 0===o?void 0:o.name,image:(0,c.a$)("combo-image/".concat(null==l?void 0:l.image)),items:l.combo_items})),(0,c.B)(r.Am,"success",{message:"Added to Cart"}),S(1),s&&setTimeout(()=>{n.push("/checkout")},2e3)}catch(e){(0,c.B)(r.Am,"warning",{message:e.message})}};return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsx)(w(),{children:(0,l.jsx)("title",{children:(0,c.qJ)((null==x?void 0:x.title)||"Combo Product")})}),(0,l.jsxs)("section",{className:"view-single-pro",children:[(null==x?void 0:x.lifestyle_image)&&(0,l.jsx)("div",{className:"product-banner",children:(0,l.jsx)("img",{src:(null==x?void 0:x.lifestyle_image)?(0,c.a$)("combo-life-style/".concat(null==x?void 0:x.lifestyle_image)):"/combo-default.jpg",alt:"lifestyle-image",className:"product-banner"})}),(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-lg-6 col-md-6",children:(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsx)(g,{combo:x,className:"sec-height"})})}),(0,l.jsxs)("div",{className:"col-lg-6 col-md-6 ps-5",children:[(0,l.jsxs)("div",{className:"border-bottom position-relative",children:[(0,l.jsx)("h3",{className:"mt-5 color font-jost display-6 fw-bolder text-capitalize mb-3",children:null==x?void 0:x.title}),x&&x.combo_items&&x.combo_items.length>0&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("h2",{className:"mb-1",children:"Package Items:"}),x.combo_items.map((e,t)=>{var n;return(0,l.jsxs)("p",{children:[t+1,". ",null==e?void 0:null===(n=e.inventory)||void 0===n?void 0:n.title," ",(null==e?void 0:e.quantity)?"(Qty. ".concat(e.quantity,")"):""]},t)})]}),(0,l.jsx)("p",{className:"font-lato font-20 text-dark mb-3",children:j?(0,l.jsxs)(s.Fragment,{children:[(0,l.jsxs)("del",{children:["Price: ",null==x?void 0:x.sale_price," Tk."]}),(0,l.jsx)("br",{}),"Offer Price: ",null==x?void 0:x.offer_price," Tk"]}):(0,l.jsxs)(s.Fragment,{children:["Price: ",null==x?void 0:x.sale_price," Tk."]})}),(null==x?void 0:x.sale_price)&&(null==x?void 0:x.offer_price)&&(null==x?void 0:x.offer_price)<(null==x?void 0:x.sale_price)&&(0,l.jsxs)("div",{className:"single_pro_offer",children:[(0,l.jsx)("img",{src:"/offer_shape.png",alt:"",className:"single_pro_offer_img"}),(0,l.jsxs)("div",{className:"single_offer_text",children:[(0,l.jsx)("p",{className:"text-uppercase fw-bold font-16 d-flex justify-content-center text-white m-0 p-0 offer_text_tab",children:"save"}),(0,l.jsxs)("span",{className:"text-white veri-align fw-semibold font-16",children:[Math.round(((e=null==x?void 0:x.sale_price)-(null==x?void 0:x.offer_price))/e*100),"%"]})]})]})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-start align-items-center counter mt-3",children:[(0,l.jsx)("p",{className:"text-capitalize pe-3 font-lato",children:"quantity :"}),(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center border border-secondary rounded-0 counter",children:[(0,l.jsx)(d.Z,{onClick:e=>Z(e),className:"button-two border-0 ms-2",children:(0,l.jsx)(m.ywL,{className:"text-dark minus-icon"})}),(0,l.jsx)("h2",{className:"px-4 font-14 count-padding",children:D}),(0,l.jsx)(d.Z,{onClick:e=>M(e),className:"button-one border-0 me-2",children:(0,l.jsx)(m.Lfi,{className:"text-dark plus-icon"})})]})]}),(0,l.jsxs)("div",{className:"d-flex justify-content-start counter mt-4 mb-4",children:[(0,l.jsx)("div",{className:"ms-2",children:(0,l.jsx)("button",{type:"button",className:"btn btn-success buy-btn rounded-0 text-capitalize px-4 font-lato",onClick:e=>Y(e,x,!0),children:"buy now"})}),(0,l.jsx)("div",{className:"ms-2",children:(0,l.jsx)("button",{type:"button",className:"btn btn-warning buy-btn2 rounded-0 text-capitalize px-4 font-lato",onClick:e=>Y(e,x),children:"add to cart"})})]}),j&&(null==x?void 0:x.offer_end)&&(0,l.jsxs)("div",{className:"offer-countdown mb-4",children:[(0,l.jsx)("div",{className:"fs-6 mb-1",children:"Hurry up! Offer is ongoing."}),(0,l.jsx)("div",{className:"fs-2 fw-light border-2 border-warning d-inline-block px-3 py-2 text-center",style:{padding:"10px 0 0",textAlign:"left",fontWeight:"bold"},children:(0,l.jsx)(h.Z,{startDate:null,endDate:null==x?void 0:x.offer_end})})]})]}),(0,l.jsx)(y,{combo:x,className:"mb-5 tabs"})]})})]})]})};var D=k},6843:function(e,t,n){"use strict";n.d(t,{BZ:function(){return i},Zv:function(){return c},i_:function(){return r},yq:function(){return a}});var l=n(2085),s=n(3516),o=n(2920);let i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await l.Z.get("/ecom/combos",{params:e})}catch(e){(0,s.B)(o.Am,"error",e)}},a=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await l.Z.get("/ecom/combos/".concat(e,"/show"),{params:t})}catch(e){(0,s.B)(o.Am,"error",e)}},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await l.Z.get("/ecom/combos/combo-categories/".concat(e),{params:t})}catch(e){(0,s.B)(o.Am,"error",e)}},r=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return await l.Z.get("/ecom/combos/search",{params:e})}catch(e){(0,s.B)(o.Am,"error",e)}}}},function(e){e.O(0,[4617,330,9774,2888,179],function(){return e(e.s=3944)}),_N_E=e.O()}]);